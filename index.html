<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>Durham Calendar</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="Durham Calendar">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.durhamcalendar.uk/">
  <meta property="og:image" content="logo.png">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#00aba9">
  <meta name="theme-color" content="#ffffff">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <link rel="stylesheet" href="css/multi.css">
  <link rel="stylesheet" href="css/index.css">
</head>

<body>

<div class="container d-flex flex-column justify-content-center">


  <div id="start-box" class="text-center text-white mt-4 mb-5">
    <h1>Durham Timetable to Calendar</h1>
    <p class="lead">
      Load your modules from the Durham website, then add it to your calendar!
      First select the modules you're doing and the term to add.
    </p>
    <p class="small">
      This is a new website, things might be buggy. If you're having issues please email me at
      <a href="mailto:adam.j.carruthers@durham.ac.uk">adam.j.carruthers@durham.ac.uk</a>.
      This website is only tested on Google Chrome. Other browsers aren't guaranteed to work.
    </p>

    <form id="start-form">
      <fieldset id="start-fieldset">
        <div class="text-dark text-left mb-2"><select id="module-select" multiple class="form-control"></select></div>

        <div class="text-dark bg-light rounded-lg p-3 text-left mb-2" id="term-select">
          <h6>Select Term:</h6>
          <div class="row ml-3 mr-0">
            <div class="form-check col-sm-4">
              <input class="form-check-input" type="radio" id="check-michaelmas" name="check-term" value="michaelmas" checked>
              <label class="form-check-label" for="check-michaelmas">
                Michaelmas Term
              </label>
            </div>
            <div class="form-check col-sm-4">
              <input class="form-check-input" type="radio" id="check-epiphany" name="check-term" value="epiphany">
              <label class="form-check-label" for="check-epiphany">
                Epiphany Term
              </label>
            </div>
            <div class="form-check col-sm-4">
              <input class="form-check-input" type="radio" id="check-easter" name="check-term" value="easter">
              <label class="form-check-label" for="check-easter">
                Easter Term
              </label>
            </div>
          </div>
          <div class="text-muted small">
            Currently the calendar is for <b>2019-20</b>. The 2020-21 calendar has not yet been released by the
            university - if it has email me! The calendar can change a lot between terms which is why you are restricted
            to adding only one term at a time.
          </div>
        </div>

        <div class="d-flex justify-content-center mt-3">
          <input type="submit" class="btn btn-primary btn-lg" value="Let's go!">
        </div>
        <small class="text-muted show-on-disabled">To restart the process, please refresh the page.</small>
      </fieldset>
    </form>
  </div>


  <div id="loading-box" class="bg-light rounded-lg p-4 mb-5">
    <h4 class="mb-0">Loading modules...</h4>
    <div class="spinner-border ml-auto" role="status">
      <span class="sr-only">Loading modules...</span>
    </div>
  </div>


  <div id="sign-in-box" class="text-light mb-5 mt-5">
    <h2 class="d-block d-md-none mb-4">Choose one option from the two below:</h2>
    <div class="row">
      <div class="col-sm d-flex flex-column border-right mb-2">
        <h3>Choose Google log in...</h3>
        <p>
          Choose this option if you want your calendar to automatically be added to Google calendar.
          It requires logging into Google and granting this website edit permissions.
          We <b>do not store or read</b> your data, and we ask for <b>as few permissions</b> as possible.
          <a href="privacy_policy.html">Read our privacy policy here.</a>
        </p>
        <button type="button" class="btn btn-light btn-lg mb-2" id="btn-authorize" disabled>
          <img class="mr-1 mb-1" src="google-logo.png"/>
          Login to Google
        </button>
        <button type="button" class="btn btn-light mb-2" id="btn-sign-out-1" disabled>Sign Out of Google</button>
        <div class="mt-2">
          <small class="text-white">When you're signed in</small><br>
          <fieldset class="sign-in-fieldset">
            <button type="button" class="btn btn-primary" id="btn-sign-in-continue" disabled>Continue with Google</button>
          </fieldset>
        </div>
      </div>

      <div class="col-sm mb-2">
        <h3>Choose calendar file...</h3>
        <p>
          Choose this option if you do not want to log into Google.
          Logging into Google is safe but this option is for those who remain uncomfortable with granting permissions.
          This option also works for other calendars like Microsoft Outlook.
          Using this option creates a calendar file you can import into most major calendars.
          Setting event color is not possible with this option.
        </p>
        <div class="mt-2">
          <small class="text-white">If you decide to continue this way</small><br>
          <fieldset class="sign-in-fieldset">
            <button type="button" class="btn btn-primary" id="btn-no-sign-in-continue">Continue without Google</button>
          </fieldset>
        </div>
      </div>
    </div>
  </div>


  <div id="activity-select-box" class="mb-5">
    <h3 class="text-white">Activity Selector</h3>
    <p class="text-white">
      Please select the activities below that you are involved in.
      For example, if you are in seminar group 2, you would select SEM/002 and leave SEM/001, SEM/003 and SEM/004 for example.
      Detected lectures are selected by default, but this may be wrong.
      Consult your department for which groups you are in, all departments do it differently.
      You can click the down arrow for more information about an activity.
      When you're done, click continue at the bottom.
    </p>
    <fieldset id="activity-select-fieldset">
      <div id="activity-select-container"></div>
    </fieldset>
  </div>


  <div id="activity-edit-box" class="mb-5">
    <h3 class="text-white">Activity Editor</h3>
    <p class="text-white">
      Below you will see all the activities along with what will be added to the calendar.
      You can edit some attributes before they are added to the calendar.
    </p>
    <p class="text-white">
      Please double check the information below using <a class="font-italic" href="https://timetable.dur.ac.uk/module.htm">https://timetable.dur.ac.uk/module.htm</a>.
      Use the list report style and be warned that weeks are numbered differently on this website to there (but dates match).
    </p>
    <p class="text-white">
      When done hit continue at the bottom. If you trust that everything is correct you can
      <button type="button" class="btn btn-primary" onclick="window.scrollBy(0, 500000)">Scroll to bottom</button>
    </p>
    <fieldset id="activity-edit-fieldset">
      <div id="activity-edit-container"></div>
    </fieldset>
  </div>


  <div id="final-box-google" class="flex-column text-center text-white">
    <h2>Almost there...</h2>
    <p>
      The created events will be in a special separate calendar.
      You can edit notifications, calendar color and many other options in calendar settings on the Google Calendar
      website afterwards.
      The settings are at <a class="font-italic" href="https://calendar.google.com/calendar/r/settings">https://calendar.google.com/calendar/r/settings</a>.
    </p>
    <div class="input-group input-group-lg mb-2 text-body">
      <div class="input-group-prepend">
        <span class="input-group-text">Notifications</span>
      </div>
      <select id="select-notifications" class="form-control form-control-lg">
        <option selected value="none">None (default)</option>
        <option value="0">0 minutes before</option>
        <option value="5">5 minutes before</option>
        <option value="10">10 minutes before</option>
      </select>
    </div>
    <div class="input-group input-group-lg mb-2 text-body">
      <div class="input-group-prepend">
        <span class="input-group-text">Calendar name</span>
      </div>
      <input id="input-cal-name" type="text" class="form-control form-control-lg" value="Durham Calendar" />
    </div>
    <button type="button" class="btn btn-light btn-lg mb-5" id="btn-magic" disabled>Magic!</button>
    <button type="button" class="btn btn-light mb-2" id="btn-sign-out-2" disabled>Sign Out of Google</button>
  </div>


  <div id="final-box-non-google" class="flex-column text-center text-white">
    <h2>Almost there...</h2>
    <p>
      When you hit the button below you will download a calendar file.
      You can then upload it to whatever calendar software you use, how to do this varies by calendar.
      The instructions for uploading the file to Google Calendar are here:
      <a href="https://support.google.com/a/users/answer/37118">https://support.google.com/a/users/answer/37118</a>.
    </p>
    <button type="button" class="btn btn-light btn-lg mb-5" id="btn-non-magic">Magic!</button>
  </div>


  <div class="footer small text-center text-muted mt-2">
    <a href="privacy_policy.html">Read our privacy policy here.</a>
    This website was made by a student by scraping data from the Durham timetable website.
    Not everything here is guaranteed to be accurate!
    Any issues please email
    <a href="mailto:adam.j.carruthers@durham.ac.uk">adam.j.carruthers@durham.ac.uk</a>.
    Many thanks to the friends who helped me test the website!
  </div>
</div>

<script src="js/vendor/modernizr-3.11.2.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://apis.google.com/js/api.js"></script>
<script src="js/multi.js"></script>
<script src="js/plugins.js"></script>
<script src="js/main.js"></script>

</body>

</html>
